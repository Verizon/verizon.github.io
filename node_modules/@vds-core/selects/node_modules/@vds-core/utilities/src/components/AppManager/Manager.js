import React from 'react';
import PropTypes from 'prop-types';
import once from '../../utils/once';
import ViewportManager from './ViewportManager';
import { breakpoints } from '@vds-core/theme';

const propTypes = {
  maxMobile: PropTypes.string,
  maxTablet: PropTypes.string,
};

const defaultProps = {
  maxMobile: breakpoints.md,
  maxTablet: breakpoints.lg,
};

/**
 * This is the root class to manage a variety of things for applications utilizing VDS.
 * A user will implement this class as a Wrapper around their application once.
 */
class VDSManager extends React.Component {
  constructor(props) {
    super(props);
    ViewportManager.register(this.props);
  }

  componentWillUnmount() {
    ViewportManager.unregister(this.props);
  }

  render() {
    if (!this.props.children) {
      return null;
    }
    return this.props.children;
  }
}

export default VDSManager;

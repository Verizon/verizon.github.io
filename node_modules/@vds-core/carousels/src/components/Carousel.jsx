import React from 'react';
import PropTypes from 'prop-types';
import styled from 'styled-components';
import { calculateRem } from '@uie/javascript-style-helpers';
import CarouselWrapper from './CarouselWrapper';

const propTypes = {
  /**
   * The items in the carousel.
   */
  data: PropTypes.array.isRequired,
  /**
   * function that returns the item to be rendered in each slide.
   */
  renderItem: PropTypes.func.isRequired,
  /**
   * @ignore
   */
  dataLoc: PropTypes.string,
};

const Carousel = props => {
  const { data, renderItem, ...rest } = props;

  const newData = [...data];
  const popElement = newData.pop();
  newData.unshift(popElement);

  const _renderChildren = () => {
    return newData.map((item, index) => {
      return renderItem({ item, index });
    });
  };

  return <CarouselWrapper {...rest}>{_renderChildren()}</CarouselWrapper>;
};

Carousel.propTypes = propTypes;

export default Carousel;

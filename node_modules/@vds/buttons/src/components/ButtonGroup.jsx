import React from 'react';
import { ButtonGroup as CoreButtonGroup } from '@vds-core/buttons';
import Button from './Button';

const ButtonGroup = props => {
  function _onClick(e, onClick) {
    if (e.detail !== 0) {
      onClick && onClick(e);
      e.target.blur();
    } else if (e.type === 'click') {
      onClick && onClick(e);
    }
  }

  function _renderButton(props) {
    const { type, children, size, width, onClick } = props;
    if (type === 'primary') {
      return (
        <Button
          {...props}
          primary
          style={{ maxWidth: '100%' }}
          ariaLabel={children}
          children={children}
          size={size}
          width={size !== 'small' && '100%'}
          onClick={e => _onClick(e, onClick)}
        />
      );
    } else if (type === 'secondary') {
      return (
        <Button
          {...props}
          secondary
          style={{ maxWidth: '100%' }}
          ariaLabel={children}
          children={children}
          size={size}
          width={size !== 'small' && '100%'}
          onClick={e => _onClick(e, onClick)}
        />
      );
    }
  }
  return (
    <CoreButtonGroup
      {...props}
      renderButton={_renderButton}
      maxWidth="596px"
      smallButtonSpacing="4X"
    />
  );
};

export default ButtonGroup;

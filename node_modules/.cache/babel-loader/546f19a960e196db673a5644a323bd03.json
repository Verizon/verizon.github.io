{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  margin: 0;\\n  padding: 0;\\n  list-style-type: none;\\n\\n  \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport cuid from 'cuid';\nimport { calculateRem } from '@uie/javascript-style-helpers';\nimport { colors } from '@vds-core/theme';\nimport TabPanel from './TabPanel';\nimport { TitleConfig, TypographyConfig } from '@vds-core/typography';\nimport { withVDSManager } from '@vds-core/utilities';\nvar propTypes = {\n  /**\n   * Content that will be rendered in the tabs wrapper.\n   */\n  children: PropTypes.node,\n\n  /**\n   * An optional callback that is called when the selectedIndex changes. Passes parameters (event, tabIndex).\n   */\n  onTabChange: PropTypes.func,\n\n  /**\n   * Sets the Position of Tabs Border.\n   */\n  linePosition: PropTypes.oneOf(['bottom', 'top', 'none']),\n\n  /**\n   * The initial Active Tab's index.\n   */\n  selectedIndex: PropTypes.number,\n\n  /**\n   * Sets the Position of the Active/Hover Border Accent for All Tabs.\n   */\n  indicatorPosition: PropTypes.oneOf(['bottom', 'top', 'none']),\n\n  /**\n   * @deprecated\n   * Option to make Accent Border 100% width of All Tabs.\n   */\n  accentFill: PropTypes.bool,\n\n  /**\n   * Option to make Accent Border 100% width of All Tabs.\n   */\n  indicatorFillTab: PropTypes.bool,\n\n  /**\n   * Minimum Width for All Tabs.\n   */\n  minWidth: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Rendered height of the tab.\n   */\n  tabHeight: PropTypes.string,\n\n  /**\n   * @deprecated\n   * An optional callback that is called when the selectedIndex changes. Passes parameters (event, tabIndex).\n   */\n  tabChange: PropTypes.func,\n  // DEPRECATED\n\n  /**\n   * @deprecated\n   * Minimum Width for All Tabs.\n   */\n  minTabWidth: PropTypes.string,\n  //DEPRECATED\n\n  /**\n   * @deprecated\n   * Sets the Position of the Active/Hover Border Accent for All Tabs.\n   */\n  accentPosition: PropTypes.oneOf(['bottom', 'top', 'none']),\n  //DEPRECATED\n\n  /**\n   * @deprecated\n   * The initial Active Tab's index.\n   */\n  activeTabIndex: PropTypes.number,\n  // DEPRECATED\n\n  /**\n   * @deprecated\n   */\n  borderPosition: PropTypes.oneOf(['bottom', 'top', 'none']),\n  //DEPRECATED\n\n  /**\n   * @ignore\n   */\n  focusState: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  minHeight: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  typescale: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  titleConfig: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  colorConfig: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.number,\n\n  /**\n   * Allows a unique ID to be passed to the component.\n   */\n  id: PropTypes.string\n};\nvar defaultProps = {\n  tabChange: undefined,\n  onTabChange: undefined,\n  linePosition: 'bottom',\n  selectedIndex: 0,\n  indicatorPosition: 'top',\n  accentFill: false,\n  // DEPRECATED\n  indicatorFillTab: false,\n  minWidth: undefined,\n  minTabWidth: undefined,\n  className: null,\n  typescale: TypographyConfig.getTypescale(),\n  titleConfig: TitleConfig,\n  colorConfig: colors\n};\n\nvar buildBorderStyle = function buildBorderStyle(props) {\n  var borderPosition = props.borderPosition,\n      linePosition = props.linePosition,\n      colorConfig = props.colorConfig;\n  var styles = '';\n\n  if (linePosition === 'top' || borderPosition === 'top') {\n    styles += \"\\n      border-top: \".concat(calculateRem(1), \" solid \").concat(colorConfig.coolGray3, \";\\n      border-bottom: \").concat(calculateRem(1), \" solid transparent;\\n    \");\n  } else if (linePosition === 'bottom' || borderPosition === 'bottom') {\n    styles += \"\\n      border-top: \".concat(calculateRem(1), \" solid transparent;\\n      border-bottom: \").concat(calculateRem(1), \" solid \").concat(colorConfig.coolGray3, \";\\n    \");\n  }\n\n  return styles;\n};\n\nvar StyledTabList = /*#__PURE__*/styled.ul.withConfig({\n  displayName: \"StyledTabList\",\n  componentId: \"sc-1ggw8n4-0\"\n})(_templateObject(), function (props) {\n  return buildBorderStyle(props);\n});\nvar TabsWrapper = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"TabsWrapper\",\n  componentId: \"sc-1ggw8n4-1\"\n})(_templateObject2());\nexport var Tabs = /*#__PURE__*/function (_Component) {\n  _inherits(Tabs, _Component);\n\n  var _super = _createSuper(Tabs);\n\n  function Tabs(props) {\n    var _this2;\n\n    _classCallCheck(this, Tabs);\n\n    _this2 = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this2), \"ignoreFragments\", function (childrenArray) {\n      return childrenArray.map(function (child) {\n        if (child.type === React.Fragment) {\n          return child.props.children instanceof Array ? child.props.children[0] : child.props.children;\n        } else {\n          return child;\n        }\n      });\n    });\n\n    _this2.activeIndex = _this2.props.activeTabIndex || _this2.props.selectedIndex; // We need a set of Unique Ids to match the Tabs with the Panels\n\n    _this2.uniqueIds = {};\n    _this2.childrenElements = _this2.ignoreFragments(_this2.props.children);\n\n    _this2.childrenElements.forEach(function (child, tabIndex) {\n      _this2.uniqueIds[tabIndex] = cuid().substr(-6); // Check for explicit setting of isActive on a Tab\n\n      if (child.props.isActive) {\n        _this2.activeIndex = tabIndex;\n      }\n    });\n\n    if (_this2.childrenElements && React.Children) {\n      React.Children.map(_this2.childrenElements, function (elem) {\n        var activeState = elem.props.active;\n        if (activeState) _this2.overrideActive = true;\n      });\n    }\n\n    _this2.state = {\n      activeTabIndex: _this2.overrideActive ? undefined : _this2.activeIndex,\n      tabsChildren: _this2.childrenElements,\n      uniqueIds: _this2.uniqueIds\n    };\n    return _this2;\n  }\n\n  _createClass(Tabs, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this3 = this;\n\n      if (this.props.activeTabIndex !== prevProps.activeTabIndex || this.props.selectedIndex !== prevProps.selectedIndex) {\n        var newIndex = this.props.activeTabIndex || this.props.selectedIndex;\n        this.setState({\n          activeTabIndex: newIndex\n        });\n      }\n\n      prevState.tabsChildren.forEach(function (child, index) {\n        var tabsChildren = _this3.ignoreFragments(_this3.props.children);\n        /* Handle for when a tab is removed of children do not exist*/\n\n\n        if (!tabsChildren || !tabsChildren[index] || !tabsChildren[index].props) {\n          return;\n        }\n\n        var currentPanelContent = tabsChildren[index].props.children;\n        var currentPanelLabel = tabsChildren[index].props.label; // TODO: look into an optimization for tabsChildren being replaced individually\n\n        if (child.props.hide !== tabsChildren[index].props.hide) {\n          _this3.setState({\n            tabsChildren: tabsChildren\n          });\n        }\n\n        if (child.props.label !== currentPanelLabel) {\n          _this3.setState({\n            tabsChildren: tabsChildren\n          });\n        }\n\n        if (child.props.children !== currentPanelContent) {\n          _this3.setState({\n            tabsChildren: tabsChildren\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getFirstVisibleChild\",\n    // This function finds the First Child (Tab) that is currently visible starting with the fromIndex\n    value: function getFirstVisibleChild() {\n      var fromIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var firstVisibleChildIndex = -1;\n      this.state.tabsChildren.forEach(function (child, index) {\n        if (index >= fromIndex && firstVisibleChildIndex === -1 && !child.props.hide) {\n          firstVisibleChildIndex = index;\n        }\n      });\n      return firstVisibleChildIndex;\n    } // Set the active tab\n\n  }, {\n    key: \"handleTabClick\",\n    value: function handleTabClick(activeTabIndex, childFunction, e) {\n      if (typeof this.props.onTabChange !== 'undefined' && this.props.onTabChange) {\n        this.props.onTabChange(e, activeTabIndex);\n      } // Call optional TabChanged event callback\n\n\n      if (typeof this.props.tabChange !== 'undefined' && this.props.tabChange) {\n        this.props.tabChange(e, activeTabIndex);\n      } // Call optional Child Tab Click event callback\n\n\n      if (childFunction) {\n        childFunction(e, activeTabIndex);\n      }\n\n      this.setState({\n        activeTabIndex: activeTabIndex\n      }); // Set activeTabIndex\n    } // Handle Visibility changes requested by a Child (Tab)\n\n  }, {\n    key: \"handleChildVisibilityChange\",\n    value: function handleChildVisibilityChange(childIndex, changeType) {\n      var changeData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n      if (changeType === 'isActive') {\n        if (changeData === true) {\n          this.setState({\n            activeTabIndex: childIndex\n          });\n        }\n      }\n\n      if (changeType === 'hide' && changeData && childIndex === this.state.activeTabIndex) {\n        var activeTabIndex = 0;\n\n        if (changeData === 1) {\n          activeTabIndex = this.getFirstVisibleChild();\n        } else if (changeData === 2 && childIndex + 1 < this.state.tabsChildren.length) {\n          activeTabIndex = this.getFirstVisibleChild(childIndex);\n        }\n\n        this.overrideActive = false;\n        this.setState({\n          activeTabIndex: activeTabIndex\n        });\n      }\n    } // Add any Props that need to be inherited from the <Tabs/> Component\n\n  }, {\n    key: \"extendTabChild\",\n    value: function extendTabChild(child, tabIndex) {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          activeTabIndex = _this$state.activeTabIndex,\n          uniqueIds = _this$state.uniqueIds;\n      var props = {};\n\n      var _this = this; // Check for Explicit overrides of Tabs Properties by Child Tab Properties\n\n\n      ['accentFill', 'indicatorFillTab', 'accentPosition', 'indicatorPosition', 'minWidth', 'minTabWidth', 'tabHeight', 'focusState', 'minHeight'].forEach(function (prop) {\n        props[prop] = _this4.props[prop];\n\n        if (typeof child.props[prop] !== 'undefined') {\n          props[prop] = child.props[prop];\n        }\n      }); // Check for Explicit override of uniqueId on this Tab\n\n      if (typeof child.props.uniqueId !== 'undefined') {\n        uniqueIds[tabIndex] = child.props.uniqueId;\n      }\n\n      var uniqueId = uniqueIds[tabIndex]; // Check if Child Tab is currently the Active Tab, or it had a Property change on isActive\n\n      var calcIsActive = activeTabIndex !== undefined ? tabIndex === activeTabIndex : child.props.active;\n      var _child$props = child.props,\n          analyticsTrack = _child$props['data-analyticstrack'],\n          track = _child$props['data-track'],\n          clickStream = _child$props['data-clickstream'];\n      return /*#__PURE__*/React.cloneElement(child, {\n        key: tabIndex + 1,\n        onClick: this.handleTabClick.bind(_this, tabIndex, child.props.onClick),\n        handleVisibilityChange: this.handleChildVisibilityChange.bind(_this, tabIndex),\n        isActive: calcIsActive,\n        active: calcIsActive,\n        hide: child.props.hide,\n        accentFill: props.accentFill,\n        indicatorFillTab: props.indicatorFillTab,\n        accentPosition: props.accentPosition,\n        indicatorPosition: props.indicatorPosition,\n        minWidth: props.minWidth,\n        minTabWidth: props.minTabWidth,\n        tabHeight: props.tabHeight,\n        focusState: props.focusState || child.props.focusState,\n        minHeight: props.minHeight || child.props.minHeight,\n        typescale: props.typescale,\n        titleConfig: props.titleConfig,\n        tabIndex: props.tabIndex,\n        uniqueId: uniqueId,\n        analyticsTrack: analyticsTrack,\n        track: track,\n        clickStream: clickStream\n      });\n    } // Encapsulate <Tabs/> component API as props for <Tab/> children\n\n  }, {\n    key: \"renderTabs\",\n    value: function renderTabs() {\n      return React.Children.map(this.state.tabsChildren, this.extendTabChild.bind(this));\n    }\n  }, {\n    key: \"renderTabContent\",\n    value: function renderTabContent(child, contentIndex) {\n      var _this$state2 = this.state,\n          activeTabIndex = _this$state2.activeTabIndex,\n          uniqueIds = _this$state2.uniqueIds;\n      var uniqueId = uniqueIds[contentIndex];\n      var label = child.props.label || uniqueId;\n      var isActive = activeTabIndex === contentIndex;\n      return /*#__PURE__*/React.createElement(TabPanel, {\n        label: label,\n        uniqueId: uniqueId,\n        isHidden: !isActive\n      }, child.props.children);\n    } // Render current active tab content\n\n  }, {\n    key: \"renderActiveTabContent\",\n    value: function renderActiveTabContent() {\n      return React.Children.map(this.state.tabsChildren, this.renderTabContent.bind(this));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          id = _this$props.id,\n          onTabChange = _this$props.onTabChange,\n          className = _this$props.className,\n          rest = _objectWithoutProperties(_this$props, [\"id\", \"onTabChange\", \"className\"]);\n\n      return /*#__PURE__*/React.createElement(TabsWrapper, {\n        className: className\n      }, /*#__PURE__*/React.createElement(StyledTabList, _extends({}, rest, {\n        id: id,\n        role: \"tablist\"\n      }), this.renderTabs()), this.props.children && /*#__PURE__*/React.createElement(TabsWrapper, null, this.renderActiveTabContent()));\n    }\n  }]);\n\n  return Tabs;\n}(Component);\nTabs.defaultProps = defaultProps;\nTabs.propTypes = propTypes;\nexport default withVDSManager(Tabs);","map":{"version":3,"sources":["/Users/vamsi/verizon.github.io/node_modules/@vds-core/tabs/dist/esm/components/Tabs.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_taggedTemplateLiteral","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Date","prototype","toString","call","e","_templateObject2","data","_templateObject","React","Component","PropTypes","styled","cuid","calculateRem","colors","TabPanel","TitleConfig","TypographyConfig","withVDSManager","propTypes","children","node","onTabChange","func","linePosition","oneOf","selectedIndex","number","indicatorPosition","accentFill","bool","indicatorFillTab","minWidth","string","className","tabHeight","tabChange","minTabWidth","accentPosition","activeTabIndex","borderPosition","focusState","minHeight","typescale","titleConfig","object","colorConfig","tabIndex","id","defaultProps","undefined","getTypescale","buildBorderStyle","props","styles","concat","coolGray3","StyledTabList","ul","withConfig","displayName","componentId","TabsWrapper","div","Tabs","_Component","_super","_this2","childrenArray","map","child","type","Fragment","Array","activeIndex","uniqueIds","childrenElements","ignoreFragments","forEach","substr","isActive","Children","elem","activeState","active","overrideActive","state","tabsChildren","key","value","componentDidUpdate","prevProps","prevState","_this3","newIndex","setState","index","currentPanelContent","currentPanelLabel","label","hide","getFirstVisibleChild","fromIndex","length","firstVisibleChildIndex","handleTabClick","childFunction","handleChildVisibilityChange","childIndex","changeType","changeData","extendTabChild","_this4","_this$state","_this","prop","uniqueId","calcIsActive","_child$props","analyticsTrack","track","clickStream","cloneElement","onClick","bind","handleVisibilityChange","renderTabs","renderTabContent","contentIndex","_this$state2","createElement","isHidden","renderActiveTabContent","render","_this$props","rest","role"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/taggedTemplateLiteral\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  margin: 0;\\n  padding: 0;\\n  list-style-type: none;\\n\\n  \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport cuid from 'cuid';\nimport { calculateRem } from '@uie/javascript-style-helpers';\nimport { colors } from '@vds-core/theme';\nimport TabPanel from './TabPanel';\nimport { TitleConfig, TypographyConfig } from '@vds-core/typography';\nimport { withVDSManager } from '@vds-core/utilities';\nvar propTypes = {\n  /**\n   * Content that will be rendered in the tabs wrapper.\n   */\n  children: PropTypes.node,\n\n  /**\n   * An optional callback that is called when the selectedIndex changes. Passes parameters (event, tabIndex).\n   */\n  onTabChange: PropTypes.func,\n\n  /**\n   * Sets the Position of Tabs Border.\n   */\n  linePosition: PropTypes.oneOf(['bottom', 'top', 'none']),\n\n  /**\n   * The initial Active Tab's index.\n   */\n  selectedIndex: PropTypes.number,\n\n  /**\n   * Sets the Position of the Active/Hover Border Accent for All Tabs.\n   */\n  indicatorPosition: PropTypes.oneOf(['bottom', 'top', 'none']),\n\n  /**\n   * @deprecated\n   * Option to make Accent Border 100% width of All Tabs.\n   */\n  accentFill: PropTypes.bool,\n\n  /**\n   * Option to make Accent Border 100% width of All Tabs.\n   */\n  indicatorFillTab: PropTypes.bool,\n\n  /**\n   * Minimum Width for All Tabs.\n   */\n  minWidth: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Rendered height of the tab.\n   */\n  tabHeight: PropTypes.string,\n\n  /**\n   * @deprecated\n   * An optional callback that is called when the selectedIndex changes. Passes parameters (event, tabIndex).\n   */\n  tabChange: PropTypes.func,\n  // DEPRECATED\n\n  /**\n   * @deprecated\n   * Minimum Width for All Tabs.\n   */\n  minTabWidth: PropTypes.string,\n  //DEPRECATED\n\n  /**\n   * @deprecated\n   * Sets the Position of the Active/Hover Border Accent for All Tabs.\n   */\n  accentPosition: PropTypes.oneOf(['bottom', 'top', 'none']),\n  //DEPRECATED\n\n  /**\n   * @deprecated\n   * The initial Active Tab's index.\n   */\n  activeTabIndex: PropTypes.number,\n  // DEPRECATED\n\n  /**\n   * @deprecated\n   */\n  borderPosition: PropTypes.oneOf(['bottom', 'top', 'none']),\n  //DEPRECATED\n\n  /**\n   * @ignore\n   */\n  focusState: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  minHeight: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  typescale: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  titleConfig: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  colorConfig: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  tabIndex: PropTypes.number,\n\n  /**\n   * Allows a unique ID to be passed to the component.\n   */\n  id: PropTypes.string\n};\nvar defaultProps = {\n  tabChange: undefined,\n  onTabChange: undefined,\n  linePosition: 'bottom',\n  selectedIndex: 0,\n  indicatorPosition: 'top',\n  accentFill: false,\n  // DEPRECATED\n  indicatorFillTab: false,\n  minWidth: undefined,\n  minTabWidth: undefined,\n  className: null,\n  typescale: TypographyConfig.getTypescale(),\n  titleConfig: TitleConfig,\n  colorConfig: colors\n};\n\nvar buildBorderStyle = function buildBorderStyle(props) {\n  var borderPosition = props.borderPosition,\n      linePosition = props.linePosition,\n      colorConfig = props.colorConfig;\n  var styles = '';\n\n  if (linePosition === 'top' || borderPosition === 'top') {\n    styles += \"\\n      border-top: \".concat(calculateRem(1), \" solid \").concat(colorConfig.coolGray3, \";\\n      border-bottom: \").concat(calculateRem(1), \" solid transparent;\\n    \");\n  } else if (linePosition === 'bottom' || borderPosition === 'bottom') {\n    styles += \"\\n      border-top: \".concat(calculateRem(1), \" solid transparent;\\n      border-bottom: \").concat(calculateRem(1), \" solid \").concat(colorConfig.coolGray3, \";\\n    \");\n  }\n\n  return styles;\n};\n\nvar StyledTabList = /*#__PURE__*/styled.ul.withConfig({\n  displayName: \"StyledTabList\",\n  componentId: \"sc-1ggw8n4-0\"\n})(_templateObject(), function (props) {\n  return buildBorderStyle(props);\n});\nvar TabsWrapper = /*#__PURE__*/styled.div.withConfig({\n  displayName: \"TabsWrapper\",\n  componentId: \"sc-1ggw8n4-1\"\n})(_templateObject2());\nexport var Tabs = /*#__PURE__*/function (_Component) {\n  _inherits(Tabs, _Component);\n\n  var _super = _createSuper(Tabs);\n\n  function Tabs(props) {\n    var _this2;\n\n    _classCallCheck(this, Tabs);\n\n    _this2 = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this2), \"ignoreFragments\", function (childrenArray) {\n      return childrenArray.map(function (child) {\n        if (child.type === React.Fragment) {\n          return child.props.children instanceof Array ? child.props.children[0] : child.props.children;\n        } else {\n          return child;\n        }\n      });\n    });\n\n    _this2.activeIndex = _this2.props.activeTabIndex || _this2.props.selectedIndex; // We need a set of Unique Ids to match the Tabs with the Panels\n\n    _this2.uniqueIds = {};\n    _this2.childrenElements = _this2.ignoreFragments(_this2.props.children);\n\n    _this2.childrenElements.forEach(function (child, tabIndex) {\n      _this2.uniqueIds[tabIndex] = cuid().substr(-6); // Check for explicit setting of isActive on a Tab\n\n      if (child.props.isActive) {\n        _this2.activeIndex = tabIndex;\n      }\n    });\n\n    if (_this2.childrenElements && React.Children) {\n      React.Children.map(_this2.childrenElements, function (elem) {\n        var activeState = elem.props.active;\n        if (activeState) _this2.overrideActive = true;\n      });\n    }\n\n    _this2.state = {\n      activeTabIndex: _this2.overrideActive ? undefined : _this2.activeIndex,\n      tabsChildren: _this2.childrenElements,\n      uniqueIds: _this2.uniqueIds\n    };\n    return _this2;\n  }\n\n  _createClass(Tabs, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this3 = this;\n\n      if (this.props.activeTabIndex !== prevProps.activeTabIndex || this.props.selectedIndex !== prevProps.selectedIndex) {\n        var newIndex = this.props.activeTabIndex || this.props.selectedIndex;\n        this.setState({\n          activeTabIndex: newIndex\n        });\n      }\n\n      prevState.tabsChildren.forEach(function (child, index) {\n        var tabsChildren = _this3.ignoreFragments(_this3.props.children);\n        /* Handle for when a tab is removed of children do not exist*/\n\n\n        if (!tabsChildren || !tabsChildren[index] || !tabsChildren[index].props) {\n          return;\n        }\n\n        var currentPanelContent = tabsChildren[index].props.children;\n        var currentPanelLabel = tabsChildren[index].props.label; // TODO: look into an optimization for tabsChildren being replaced individually\n\n        if (child.props.hide !== tabsChildren[index].props.hide) {\n          _this3.setState({\n            tabsChildren: tabsChildren\n          });\n        }\n\n        if (child.props.label !== currentPanelLabel) {\n          _this3.setState({\n            tabsChildren: tabsChildren\n          });\n        }\n\n        if (child.props.children !== currentPanelContent) {\n          _this3.setState({\n            tabsChildren: tabsChildren\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getFirstVisibleChild\",\n    // This function finds the First Child (Tab) that is currently visible starting with the fromIndex\n    value: function getFirstVisibleChild() {\n      var fromIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var firstVisibleChildIndex = -1;\n      this.state.tabsChildren.forEach(function (child, index) {\n        if (index >= fromIndex && firstVisibleChildIndex === -1 && !child.props.hide) {\n          firstVisibleChildIndex = index;\n        }\n      });\n      return firstVisibleChildIndex;\n    } // Set the active tab\n\n  }, {\n    key: \"handleTabClick\",\n    value: function handleTabClick(activeTabIndex, childFunction, e) {\n      if (typeof this.props.onTabChange !== 'undefined' && this.props.onTabChange) {\n        this.props.onTabChange(e, activeTabIndex);\n      } // Call optional TabChanged event callback\n\n\n      if (typeof this.props.tabChange !== 'undefined' && this.props.tabChange) {\n        this.props.tabChange(e, activeTabIndex);\n      } // Call optional Child Tab Click event callback\n\n\n      if (childFunction) {\n        childFunction(e, activeTabIndex);\n      }\n\n      this.setState({\n        activeTabIndex: activeTabIndex\n      }); // Set activeTabIndex\n    } // Handle Visibility changes requested by a Child (Tab)\n\n  }, {\n    key: \"handleChildVisibilityChange\",\n    value: function handleChildVisibilityChange(childIndex, changeType) {\n      var changeData = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n      if (changeType === 'isActive') {\n        if (changeData === true) {\n          this.setState({\n            activeTabIndex: childIndex\n          });\n        }\n      }\n\n      if (changeType === 'hide' && changeData && childIndex === this.state.activeTabIndex) {\n        var activeTabIndex = 0;\n\n        if (changeData === 1) {\n          activeTabIndex = this.getFirstVisibleChild();\n        } else if (changeData === 2 && childIndex + 1 < this.state.tabsChildren.length) {\n          activeTabIndex = this.getFirstVisibleChild(childIndex);\n        }\n\n        this.overrideActive = false;\n        this.setState({\n          activeTabIndex: activeTabIndex\n        });\n      }\n    } // Add any Props that need to be inherited from the <Tabs/> Component\n\n  }, {\n    key: \"extendTabChild\",\n    value: function extendTabChild(child, tabIndex) {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          activeTabIndex = _this$state.activeTabIndex,\n          uniqueIds = _this$state.uniqueIds;\n      var props = {};\n\n      var _this = this; // Check for Explicit overrides of Tabs Properties by Child Tab Properties\n\n\n      ['accentFill', 'indicatorFillTab', 'accentPosition', 'indicatorPosition', 'minWidth', 'minTabWidth', 'tabHeight', 'focusState', 'minHeight'].forEach(function (prop) {\n        props[prop] = _this4.props[prop];\n\n        if (typeof child.props[prop] !== 'undefined') {\n          props[prop] = child.props[prop];\n        }\n      }); // Check for Explicit override of uniqueId on this Tab\n\n      if (typeof child.props.uniqueId !== 'undefined') {\n        uniqueIds[tabIndex] = child.props.uniqueId;\n      }\n\n      var uniqueId = uniqueIds[tabIndex]; // Check if Child Tab is currently the Active Tab, or it had a Property change on isActive\n\n      var calcIsActive = activeTabIndex !== undefined ? tabIndex === activeTabIndex : child.props.active;\n      var _child$props = child.props,\n          analyticsTrack = _child$props['data-analyticstrack'],\n          track = _child$props['data-track'],\n          clickStream = _child$props['data-clickstream'];\n      return /*#__PURE__*/React.cloneElement(child, {\n        key: tabIndex + 1,\n        onClick: this.handleTabClick.bind(_this, tabIndex, child.props.onClick),\n        handleVisibilityChange: this.handleChildVisibilityChange.bind(_this, tabIndex),\n        isActive: calcIsActive,\n        active: calcIsActive,\n        hide: child.props.hide,\n        accentFill: props.accentFill,\n        indicatorFillTab: props.indicatorFillTab,\n        accentPosition: props.accentPosition,\n        indicatorPosition: props.indicatorPosition,\n        minWidth: props.minWidth,\n        minTabWidth: props.minTabWidth,\n        tabHeight: props.tabHeight,\n        focusState: props.focusState || child.props.focusState,\n        minHeight: props.minHeight || child.props.minHeight,\n        typescale: props.typescale,\n        titleConfig: props.titleConfig,\n        tabIndex: props.tabIndex,\n        uniqueId: uniqueId,\n        analyticsTrack: analyticsTrack,\n        track: track,\n        clickStream: clickStream\n      });\n    } // Encapsulate <Tabs/> component API as props for <Tab/> children\n\n  }, {\n    key: \"renderTabs\",\n    value: function renderTabs() {\n      return React.Children.map(this.state.tabsChildren, this.extendTabChild.bind(this));\n    }\n  }, {\n    key: \"renderTabContent\",\n    value: function renderTabContent(child, contentIndex) {\n      var _this$state2 = this.state,\n          activeTabIndex = _this$state2.activeTabIndex,\n          uniqueIds = _this$state2.uniqueIds;\n      var uniqueId = uniqueIds[contentIndex];\n      var label = child.props.label || uniqueId;\n      var isActive = activeTabIndex === contentIndex;\n      return /*#__PURE__*/React.createElement(TabPanel, {\n        label: label,\n        uniqueId: uniqueId,\n        isHidden: !isActive\n      }, child.props.children);\n    } // Render current active tab content\n\n  }, {\n    key: \"renderActiveTabContent\",\n    value: function renderActiveTabContent() {\n      return React.Children.map(this.state.tabsChildren, this.renderTabContent.bind(this));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          id = _this$props.id,\n          onTabChange = _this$props.onTabChange,\n          className = _this$props.className,\n          rest = _objectWithoutProperties(_this$props, [\"id\", \"onTabChange\", \"className\"]);\n\n      return /*#__PURE__*/React.createElement(TabsWrapper, {\n        className: className\n      }, /*#__PURE__*/React.createElement(StyledTabList, _extends({}, rest, {\n        id: id,\n        role: \"tablist\"\n      }), this.renderTabs()), this.props.children && /*#__PURE__*/React.createElement(TabsWrapper, null, this.renderActiveTabContent()));\n    }\n  }]);\n\n  return Tabs;\n}(Component);\nTabs.defaultProps = defaultProps;\nTabs.propTypes = propTypes;\nexport default withVDSManager(Tabs);"]},"metadata":{},"sourceType":"module"}
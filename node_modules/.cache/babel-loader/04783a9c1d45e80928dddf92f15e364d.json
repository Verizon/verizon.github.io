{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vamsi/verizon-os-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/vamsi/verizon-os-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/vamsi/verizon-os-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/vamsi/verizon-os-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/vamsi/verizon-os-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/vamsi/verizon-os-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/vamsi/verizon-os-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/vamsi/verizon-os-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  margin-bottom: \",\";\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Fragment,Component}from'react';import styled from'styled-components';import{Title,Body,Micro}from'@vds/typography';import{Button}from'@vds/buttons';import{spacers}from'@vds/theme';import{DropdownSelect}from'@vds/selects';import{Tab,Tabs}from'@vds/tabs';import{Redirect}from\"react-router-dom\";var projectUrl='https://api.github.com/orgs/Verizon/repos?page=1&per_page=100';var Group=styled.div(_templateObject(),typeof window!=='undefined'&&spacers.medium);var ProjectLayout=/*#__PURE__*/function(_Component){_inherits(ProjectLayout,_Component);var _super=_createSuper(ProjectLayout);function ProjectLayout(){var _this;_classCallCheck(this,ProjectLayout);_this=_super.call(this);_this._isMounted=false;_this.state={alphabetize:false,alphabetizeLabel:'(a - z)',sort:false,sortLabel:'(asc)',value:'',showProjects:[],returnedProjects:[],redirect:null};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(ProjectLayout,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var fetchMembers,headers,xRateLimit,projectMembers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:this._isMounted=true;_context.next=3;return fetch(projectUrl,{method:'GET'// headers: {\n//     'PRIVATE-TOKEN': process.env.PRIVATE_TOKEN\n// }\n});case 3:fetchMembers=_context.sent;_context.next=6;return fetchMembers.headers;case 6:headers=_context.sent;xRateLimit=Number(headers.get('x-ratelimit-remaining'));console.log(xRateLimit);if(xRateLimit<2&&this._isMounted){this.setState({redirect:\"/home\"});if(typeof window!==\"undefined\"){window.open(\"https://github.com/Verizon\",\"_blank\");}}_context.next=12;return fetchMembers.json();case 12:projectMembers=_context.sent;if(this._isMounted){this.setState({showProjects:projectMembers,returnedProjects:projectMembers});}case 14:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()// componentDidMount() {\n//   fetch(projectUrl, {\n//     method: 'GET',\n//     // headers: {\n//     //   'Authorization': `token ${process.env.ACCESS_TOKEN}`\n//     // }\n//   })\n//   .then(response => response.json())\n//   .then(\n//     (result) => {\n//       // navigate(\"/home\", { replace: true }); \n//       // if (typeof window !== `undefined`) {\n//       //   window.open(\"https://github.com/Verizon\", \"_blank\");\n//       // }\n//       this.setState({\n//         showProjects: result,\n//         returnedProjects: result\n//       });\n//     }\n//   ).catch(e => {\n//     navigate(\"/home\", { replace: true });\n//     if (typeof window !== `undefined`) {\n//       window.open(\"https://github.com/Verizon\", \"_blank\");\n//     }\n//   });\n// }\n},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;}},{key:\"handleChange\",value:function handleChange(event){this.setState({value:event.target.value});this.handleSubmit(event);}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();var projectsCopy=this.state.returnedProjects;var filteredProjects=projectsCopy.filter(function(project){return project.language===event.target.value;});this.setState({showProjects:filteredProjects});}},{key:\"showAll\",value:function showAll(){this.setState({showProjects:this.state.returnedProjects});}},{key:\"alphabetize\",value:function alphabetize(){if(!this.state.alphabetize){this.alphabetizeAToZ();this.setState({alphabetize:!this.state.alphabetize,alphabetizeLabel:'(z - a)'});}if(this.state.alphabetize){this.alphabetizeZtoA();this.setState({alphabetize:!this.state.alphabetize,alphabetizeLabel:'(a - z)'});}}},{key:\"alphabetizeAToZ\",value:function alphabetizeAToZ(){var projectsCopy=this.state.showProjects;var alphabetizedItems=projectsCopy.sort(function(a,b){var projectA=a.name.toUpperCase();var projectB=b.name.toUpperCase();if(projectA<projectB){return-1;}if(projectA>projectB){return 1;}return 0;});this.setState({showProjects:alphabetizedItems});}},{key:\"alphabetizeZtoA\",value:function alphabetizeZtoA(){var projectsCopy=this.state.showProjects;var alphabetizedItems=projectsCopy.sort(function(a,b){var projectA=a.name.toUpperCase();var projectB=b.name.toUpperCase();if(projectA>projectB){return-1;}if(projectA<projectB){return 1;}return 0;});this.setState({showProjects:alphabetizedItems});}},{key:\"sortByDate\",value:function sortByDate(){if(!this.state.sort){this.sortByDateAscending();this.setState({sort:!this.state.sort,sortLabel:'(desc)'});}else{this.sortByDateDescending();this.setState({sort:!this.state.sort,sortLabel:'(asc)'});}}},{key:\"sortByDateAscending\",value:function sortByDateAscending(){var projectsCopy=this.state.showProjects;var ascendingDates=projectsCopy.sort(function(a,b){var projectA=a.created_at;var projectB=b.created_at;if(projectA<projectB){return-1;}if(projectA>projectB){return 1;}return 0;});this.setState({showProjects:ascendingDates});}},{key:\"sortByDateDescending\",value:function sortByDateDescending(){var projectsCopy=this.state.showProjects;var descendingDates=projectsCopy.sort(function(a,b){var projectA=a.created_at;var projectB=b.created_at;if(projectA>projectB){return-1;}if(projectA<projectB){return 1;}return 0;});this.setState({showProjects:descendingDates});}},{key:\"render\",value:function render(){var _this2=this;if(this.state.redirect){return/*#__PURE__*/_jsx(Redirect,{to:this.state.redirect});}var _this$state=this.state,showProjects=_this$state.showProjects,returnedProjects=_this$state.returnedProjects,alphabetizeLabel=_this$state.alphabetizeLabel,sortLabel=_this$state.sortLabel;var alphabetizeMenuLabel=\"Alphabetize \".concat(alphabetizeLabel);var sortDateMenuLabel=\"Creation Date \".concat(sortLabel);var projectCodeLanguage=returnedProjects.map(function(project){return project.language;}).reduce(function(accum,project){if(!accum.includes(project)){accum.push(project);}return accum;},[]);var projects=showProjects.filter(function(project){return project.archived===false;}).map(function(project){var description=project.description?project.description.split(' ').slice(0,10).filter(function(element){return element.length<70;}).join(\" \").replace(/\\s(?=[^\\s]*$)/g,\"\\xA0\"):\"\";var projectTag=\"\".concat(project.language).toLowerCase();return/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"project-card-text\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"project-card-title\",children:/*#__PURE__*/_jsx(Title,{size:\"small\",children:project.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"project-card-body\",children:/*#__PURE__*/_jsx(Body,{children:description})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"project-card-button\",children:/*#__PURE__*/_jsx(\"a\",{href:project.html_url,target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(Button,{size:\"small\",children:\"Visit\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"project-card-tag\",children:/*#__PURE__*/_jsx(\"a\",{target:\"_self\",value:projectTag,href:projectTag,rel:\"noreferrer\",onClick:function onClick(event){return console.log(\"value\",event.target.value);},children:/*#__PURE__*/_jsx(Micro,{viewport:\"desktop\",primitive:\"h2\",children:projectTag})})})]},project.id);});return/*#__PURE__*/_jsxs(\"div\",{className:\"projectLayout\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"projectLayoutHeading\",children:/*#__PURE__*/_jsx(Title,{size:\"large\",children:\"Verizon Open Source Projects\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"projectMenuButtons\",children:[/*#__PURE__*/_jsxs(Tabs,{children:[/*#__PURE__*/_jsx(Tab,{label:\"Show All\",onClick:function onClick(){return _this2.showAll();}}),/*#__PURE__*/_jsx(Tab,{label:alphabetizeMenuLabel,onClick:function onClick(){return _this2.alphabetize();}}),/*#__PURE__*/_jsx(Tab,{label:sortDateMenuLabel,onClick:function onClick(){return _this2.sortByDate();}})]}),/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Group,{children:/*#__PURE__*/_jsx(DropdownSelect,{label:\"Language\",width:\"200px\",inlineLabel:true,value:this.state.value,onChange:function onChange(e){return _this2.handleChange(e);},children:projectCodeLanguage.map(function(language,index){return/*#__PURE__*/_jsx(\"option\",{value:language,children:language},index);})})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"project-grid\",children:projects})]});}}]);return ProjectLayout;}(Component);export{ProjectLayout as default};","map":{"version":3,"sources":["/Users/vamsi/verizon-os-react/src/components/projectLayout.js"],"names":["React","Fragment","Component","styled","Title","Body","Micro","Button","spacers","DropdownSelect","Tab","Tabs","Redirect","projectUrl","Group","div","window","medium","ProjectLayout","_isMounted","state","alphabetize","alphabetizeLabel","sort","sortLabel","value","showProjects","returnedProjects","redirect","handleChange","bind","handleSubmit","fetch","method","fetchMembers","headers","xRateLimit","Number","get","console","log","setState","open","json","projectMembers","event","target","preventDefault","projectsCopy","filteredProjects","filter","project","language","alphabetizeAToZ","alphabetizeZtoA","alphabetizedItems","a","b","projectA","name","toUpperCase","projectB","sortByDateAscending","sortByDateDescending","ascendingDates","created_at","descendingDates","alphabetizeMenuLabel","sortDateMenuLabel","projectCodeLanguage","map","reduce","accum","includes","push","projects","archived","description","split","slice","element","length","join","replace","projectTag","toLowerCase","html_url","id","showAll","sortByDate","e","index"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from 'react';\nimport styled from 'styled-components';\nimport { Title, Body, Micro} from '@vds/typography'; \nimport { Button } from '@vds/buttons'; \nimport { spacers } from '@vds/theme'; \nimport { DropdownSelect } from '@vds/selects';\nimport { Tab, Tabs } from '@vds/tabs'; \nimport { Redirect } from \"react-router-dom\";\n\nconst projectUrl = 'https://api.github.com/orgs/Verizon/repos?page=1&per_page=100';\n\nconst Group = styled.div`\n  margin-bottom: ${typeof window !== 'undefined' && spacers.medium};\n`;\n\nexport default class ProjectLayout extends Component {\n  _isMounted = false; \n\n  constructor() {\n    super();\n    this.state = {\n      alphabetize: false,\n      alphabetizeLabel: '(a - z)',\n      sort: false,\n      sortLabel: '(asc)',\n      value: '',\n      showProjects: [],\n      returnedProjects: [],\n      redirect: null\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentDidMount() {\n    this._isMounted = true; \n    const fetchMembers = await fetch (projectUrl, {\n      method: 'GET',\n      // headers: {\n      //     'PRIVATE-TOKEN': process.env.PRIVATE_TOKEN\n      // }\n    });\n    const headers = await fetchMembers.headers;\n    const xRateLimit = Number(headers.get('x-ratelimit-remaining'));\n    console.log(xRateLimit);\n    if (xRateLimit < 2 && this._isMounted) {\n      this.setState({ redirect: \"/home\" });\n      if (typeof window !== `undefined`) {\n               window.open(\"https://github.com/Verizon\", \"_blank\");\n      } \n    }\n\n    const projectMembers = await fetchMembers.json();\n    if (this._isMounted) {\n      this.setState({\n        showProjects: projectMembers,\n        returnedProjects: projectMembers\n      });\n    }\n  }\n\n  // componentDidMount() {\n  //   fetch(projectUrl, {\n  //     method: 'GET',\n  //     // headers: {\n  //     //   'Authorization': `token ${process.env.ACCESS_TOKEN}`\n  //     // }\n  //   })\n  //   .then(response => response.json())\n  //   .then(\n  //     (result) => {\n  //       // navigate(\"/home\", { replace: true }); \n  //       // if (typeof window !== `undefined`) {\n  //       //   window.open(\"https://github.com/Verizon\", \"_blank\");\n  //       // }\n  //       this.setState({\n  //         showProjects: result,\n  //         returnedProjects: result\n  //       });\n  //     }\n  //   ).catch(e => {\n  //     navigate(\"/home\", { replace: true });\n  //     if (typeof window !== `undefined`) {\n  //       window.open(\"https://github.com/Verizon\", \"_blank\");\n  //     }\n  //   });\n  // }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n    this.handleSubmit(event);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let projectsCopy = this.state.returnedProjects;\n    let filteredProjects = projectsCopy.filter(project => project.language === event.target.value);\n    this.setState({showProjects : filteredProjects});\n  }\n\n  showAll () {\n    this.setState({\n      showProjects: this.state.returnedProjects\n    })\n  }\n\n  alphabetize () {\n    if (!this.state.alphabetize) {\n      this.alphabetizeAToZ()\n      this.setState({\n        alphabetize: !this.state.alphabetize,\n        alphabetizeLabel: '(z - a)'\n      })\n    }\n    if (this.state.alphabetize){\n      this.alphabetizeZtoA()\n      this.setState({\n        alphabetize: !this.state.alphabetize,\n        alphabetizeLabel: '(a - z)'\n      })\n    }\n  }\n  alphabetizeAToZ () {\n    let projectsCopy = this.state.showProjects;\n    let alphabetizedItems = projectsCopy.sort(function(a, b) {\n      var projectA = a.name.toUpperCase();\n      var projectB = b.name.toUpperCase(); \n      if (projectA < projectB) {\n        return -1;\n      }\n      if (projectA > projectB) {\n        return 1;\n      }\n      return 0;\n    });\n    this.setState({\n      showProjects : alphabetizedItems\n    })\n  }\n\n  alphabetizeZtoA () {\n    let projectsCopy = this.state.showProjects;\n    let alphabetizedItems = projectsCopy.sort(function(a, b) {\n      let projectA = a.name.toUpperCase();\n      let projectB = b.name.toUpperCase(); \n      if (projectA > projectB) {\n        return -1;\n      }\n      if (projectA < projectB) {\n        return 1;\n      }\n      return 0;\n    });\n    this.setState({\n      showProjects : alphabetizedItems\n    })\n  }\n\n  sortByDate () {\n    if (!this.state.sort) {\n      this.sortByDateAscending()\n      this.setState({\n        sort: !this.state.sort,\n        sortLabel: '(desc)'\n      })\n    } else {\n      this.sortByDateDescending()\n      this.setState({\n        sort: !this.state.sort,\n        sortLabel: '(asc)'\n      })\n    }\n  }\n  sortByDateAscending () {\n    let projectsCopy = this.state.showProjects;\n    let ascendingDates = projectsCopy.sort(function (a, b) {\n      let projectA = a.created_at;\n      let projectB = b.created_at;\n      if (projectA < projectB) {\n        return -1;\n      }\n      if (projectA > projectB) {\n        return 1;\n      }\n      return 0;\n    });\n    this.setState({\n      showProjects: ascendingDates\n    })\n  }\n\n  sortByDateDescending () {\n    let projectsCopy = this.state.showProjects;\n    let descendingDates = projectsCopy.sort(function (a, b) {\n      let projectA = a.created_at;\n      let projectB = b.created_at;\n      if (projectA > projectB) {\n        return -1;\n      }\n      if (projectA < projectB) {\n        return 1;\n      }\n      return 0;\n    });\n    this.setState({\n      showProjects: descendingDates\n    })\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={this.state.redirect} />\n    }\n\n    const { showProjects, returnedProjects, alphabetizeLabel, sortLabel } = this.state; \n    const alphabetizeMenuLabel = `Alphabetize ${alphabetizeLabel}`;\n    const sortDateMenuLabel = `Creation Date ${sortLabel}`; \n    const projectCodeLanguage = returnedProjects.map(project => project.language).reduce((accum, project) => {\n      if (!accum.includes(project)){\n        accum.push(project)\n      }\n      return accum;\n    }, []);\n    const projects = showProjects.filter( project => project.archived === false ).map(function(project) {\n    const description = project.description ? project.description.split(' ').slice(0,10).filter( element => element.length < 70 ).join(\" \").replace(/\\s(?=[^\\s]*$)/g, '\\u00A0') : \"\";\n    const projectTag = `${project.language}`.toLowerCase();\n    return (\n      <article key={project.id}>\n        <div className=\"project-card-text\">\n          <div className=\"project-card-title\">\n            <Title size=\"small\">{project.name}</Title>\n          </div>\n          <div className=\"project-card-body\">\n            <Body>{description}</Body>\n          </div>\n        </div>\n        <div className=\"project-card-button\" >\n          <a href={project.html_url} target=\"_blank\" rel=\"noreferrer\">\n          <Button size=\"small\">Visit</Button>\n          </a>\n        </div>\n        <div className=\"project-card-tag\">\n          <a target=\"_self\" value={projectTag} href={projectTag} rel=\"noreferrer\" onClick={(event)=> console.log(\"value\", event.target.value)}>\n            <Micro viewport=\"desktop\" primitive=\"h2\">{projectTag}</Micro>\n          </a>\n        </div>  \n      </article>\n    )\n    });\n    return (\n      <div className=\"projectLayout\">\n        <div className=\"projectLayoutHeading\">\n          <Title size=\"large\">Verizon Open Source Projects</Title>\n        </div>\n        <div className=\"projectMenuButtons\">\n        <Tabs>           \n            <Tab label=\"Show All\" onClick={()=> this.showAll()} />\n            <Tab label={alphabetizeMenuLabel} onClick={() => this.alphabetize()} />\n            <Tab label={sortDateMenuLabel} onClick={()=> this.sortByDate()} />\n          </Tabs>\n          <Fragment>\n            <Group>\n            <DropdownSelect label=\"Language\" width=\"200px\" inlineLabel={true} value={this.state.value} onChange={(e)=> this.handleChange(e)}>\n                {projectCodeLanguage.map((language, index )=> <option key={index} value={language}>{language}</option>)}\n              </DropdownSelect>\n            </Group>\n          </Fragment>\n        </div>\n        <div className=\"project-grid\">{projects}</div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}